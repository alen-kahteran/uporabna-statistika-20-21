# set this option in the first code chunk in the document
knitr::opts_chunk$set(echo = params$printcode, results= params$printresults, warning = FALSE,fig.height=4)
# for .txt data
studenti = read.table("data/studenti2012.txt",sep="\t")
str(studenti)
dimnames(studenti)
studenti = read.table("data/studenti2012.txt",sep="\t",header=TRUE)
str(studenti)
dimnames(studenti)
summary(studenti)
saveRDS(studenti,file="studenti.Rda")
View(studenti)
podatki = readRDS("data/podatki.Rda")
hist(podatki$BMI)
hist(podatki$BMI,xlab="indeks telesne teže",ylab="frekvenca",main="histogram")
hist(podatki$BMI,freq=FALSE)
povp=mean(podatki$BMI,na.rm=TRUE)
abline(v=povp,col="red",lwd=2)
text(x=25,y=0.12,pos=4,labels=paste("mean =",round(povp,1)),col="red")
med=median(podatki$BMI,na.rm=TRUE)
abline(v=med,col="blue",lwd=2)
text(x=25,y=0.10,pos=4,labels=paste("median =",round(med,1)),col="blue")
boxplot(podatki$BMI)
boxplot(formula=BMI~terapija,data=podatki)
boxplot(formula=BMI~terapija,data=podatki,horizontal = TRUE,col="lightblue")
plot(podatki$BMI,podatki$razlika/365.24,xlab="ITT",ylab="razlika med okužbo in testiranjem (leta)",main="povezanost med ITT in časovno razliko")
plot(podatki$BMI,podatki$razlika/365.24,pch=16,col=podatki$terapija)
legend("topright",legend = c("terapija","brez"),col=c("red","black"),pch = c(16,16))
# plot 2 plots on the same plot
op = par(mfcol=c(1,2)) # two plots in a row
boxplot(formula=BMI~terapija,data=podatki,col=c("gray","red"))
plot(podatki$BMI,podatki$razlika/365.24,pch=16,col=podatki$terapija,cex=as.numeric(podatki$terapija),xlab="ITM",ylab="razlika (leta)")
legend("topright",legend = c("terapija","brez"),col=c("red","black"),pch = c(16,16))
par(op)
tabela = table(podatki$skupina)
barplot(tabela,main="skupina")
barplot(tabela,horiz=TRUE,las=1)
# ordered
podatki$skupinaO = reorder(podatki$skupina,podatki$skupina,length)
tabela = table(podatki$skupinaO)
barplot(tabela,main="skupina")
pie(tabela)
tabela2 = table(podatki$skupina,podatki$terapija)
tabela2
mosaicplot(skupina~terapija,data=podatki)
barplot(tabela2,beside=TRUE,legend.text = TRUE)
# use better names of values
podatki$skupinaN = factor(podatki$skupina,levels = 1:3,labels=paste(rep("group",3),1:3))
podatki$terapijaN = factor(podatki$terapija,levels=0:1,labels=c("placebo","therapy"))
tabela3 = table(podatki$skupinaN,podatki$terapijaN)
pdf("pred2_slika.pdf",width=6,height=4)
barplot(tabela3,beside=FALSE,legend.text = TRUE)
dev.off()
format(Sys.time(), "%a %b %d %X %Y %Z")
x <- c("1jan1960", "2jan1960", "31mar1960", "30jul1960")
z <- as.Date(x, "%d%b%Y")
class(z)
str(z)
as.numeric(z)
as.Date(0,origin="1970-01-01") # how much time from origin date
z
format(Sys.time(), "%a %b %d %X %Y %Z")
x <- c("1jan1960", "2jan1960", "31mar1960", "30jul1960")
x
z <- as.Date(x, "%d%b%Y")
z
as.Date(x, "%d%b%Y")
as.Date.character(x, "%d%b%Y")
as.Date.character("1jan1960", "%d%b%Y")
?as.Date
?zclass
